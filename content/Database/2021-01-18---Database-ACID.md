---
title: 'Database - ACID'
date: '2021-01-18T22:00:00.000Z'
template: 'post'
draft: false
slug: 'database-acid'
category: 'Database'
tags:
  - 'Database'
  - 'ACID'
description: '데이터베이스의 트랜잭션을 안정적으로 수행하기 위한 성질인 ACID에 대해서 알아봅니다.'
socialImage: 'static/media/database/ACID.png'
---

![ACID.png](/media/database/ACID.png)

## Overview

ACID를 알아보기에 앞서 **트랜잭션**에 대한 이해가 필요합니다.
왜냐하면, ACID라는 것은 **트랜잭션을 안정적으로 수행하기 위해 정립된 특성**이기 때문입니다.

## 트랜잭션이란?

트랜잭션은 데이터베이스의 데이터에 접근하고 수정할 수 있는 단일 논리적 작업의 단위입니다. 트랜잭션은 읽기 및 쓰기 작업을 하기 위해서 데이터에 접근합니다.
트랜잭션의 전후에 **일관성을 유지하기위해서** ACID라는 속성을 따릅니다.

## ACID는 무엇인가?

ACID란 데이터베이스 트랜잭션이 안전하게 수행된다는 것을 보장하기 위한 성질을 가리키는 약어입니다.
아래의 네가지 용어는 데이터베이스의 **트랜잭션이 신뢰성있게 수행될 수 있도록 보장하는 것**이라고 보면됩니다.

- _A (Atomicity)_ - 원자성
- _C (Consistency)_ - 일관성
- _I (Isolation)_ -격리성 OR 독립성
- _D (Durability)_ 내구성

ACID는 특히 데이터베이스가 트랜잭션 처리중에 발생한 어떤 실패에 대해서 어떻게 처리할지에 대해서 다루고 있습니다.

ACID를 잘 따르는 DBMS는 데이터베이스 상에서 어떠한 트랜잭션에 실패에도 데이터가 정확하고 일관성있게 유지될 수 있도록 보장합니다.

---

## ACID의 정의

**원자성 (A - Atomicity)**

> 🔥 원자성은 전부 성공 아니면 모두 실패입니다! 🔥

원자성이란, 트랜잭션 내의 작업이 전체가 한번에 이루어지거나 전혀 작업이 수행되지 않는다는 뜻입니다.

즉, 쉽게 말해 트랜잭션으로 묶은 일련의 작업들 중 한개라도 실패한다면 전체가 실패하고, 동일 트랜잭션 내의 작업 전체가 성공을 해야만 성공으로 보는 일련의 작업들을 원자처럼 보는 성질입니다.

원자성을 보장하기위해서는 다음과 같은 두 개의 동작을 포함합니다.

- Abort: 만약 트랜잭션이 중단된다면, 데이터베이스는 변하지 않습니다.
- Commit: 만약 트랜잭션이 성공한다면, 데이터베이스가 변경됩니다.

**일관성 (C - Consistency)**

> 데이터베이스는 항상 저장된 데이터의 **무결성**을 보장하고 상태를 일정하게 유지해야합니다.

RDBMS에서는 데이터 간의 릴레이션을 설정하고, 그 값의 무결성을 보장하기 위해서 제약조건 (constraint)를 설정합니다. 제약조건을 통해서 데이터베이스에 저장된 데이터의 무결성을 보장하고 일관되게 유지하는 것입니다.

트랜잭션을 수행하고 나면 항상 데이터베이스는 제약조건에 설정한 상태로 데이터베이스를 정확하고 일관성있게 유지해야하며, 트랜잭션 수행 중 무결성을 위반하게 된다면 트랜잭션은 중단됩니다.

**격리성 혹은 독립성 (I - Isolation)**

> 트랜잭션이 서로 다른 트랜잭션에게 영향을 받지않고 각각 독립적으로 수행할 수 있도록 보장하는 성질입니다.

격리성이란 여러 트랜잭션이 동시에 발생할 때 데이터 참조에서 문제가 발생할 수 있는 상황으로 인해 발생할 수 있는 문제를 위해서 정의된 속성입니다.

이 속성은 데이터베이스 상태의 불일치를 초래하지 않고 동시에 여러 트랜잭션이 발생할 수 있도록 보장합니다.

트랜잭션은 간섭 없이 독립적으로 수행됩니다. 특정 트랜잭션에서 발생하는 변경사항은 해당 트랜잭션의 특정 변경사항이 메모리에 기록되거나 커밋될 때까지 다른 트랜잭션에 표시되지 않습니다.

이 속성은 트랜잭션을 동시에 실행하면 이러한 상태가 달성된 상태와 동일한 상태가 어떤 순서로 연속적으로 실행되도록 보장합니다.

**내구성 (D - Durability)**

> 한번 성공한 트랜잭션은 디스크에 기록되어, 시스템에 오류가 발생해도 사라지지않는다.

내구성이라는 속성은 트랜잭션의 실행이 완료가 되면, 데이터베이스에 대한 업데이트 및 수정 사항이 디스크에 저장 및 기록되고 시스템에 오류가 발생하여 종료되더라도 성공한 트랜잭션은 계속해서 남아있게 보장하는 성질입니다.

트랜잭션의 성공은 영구적으로 기록되며, 비휘발성 저장장치에 기록된다는 것을 이해하면 됩니다.

---

## 정리

ACID라는 것은 데이터베이스에 문제가 발생하였을 경우(하나의 작업이 실패, 제약조건이 맞지않음) 복구를 어떻게 해야할지에 대한 원칙을 설계한 것입니다.

다시말해, ACID라는 것은 데이터가 일종의 오류로 인해 손상되지 않도록 데이터베이스의 트랜잭션이 따라야하는 원칙을 제공하는 것입니다.

그래서, ACID를 준수하는 데이터베이스를 사용하는 것은 트랜잭션이 처리되는 동안 특정 유형의 오류가 발생하더라도 데이터베이스가 데이터 무결성을 유지할 것이라는 확신을 제공합니다.

### Reference

- https://ko.wikipedia.org/wiki/ACID
- https://database.guide/what-is-acid-in-databases
- https://www.geeksforgeeks.org/acid-properties-in-dbms/
- https://www.scaler.com/topics/dbms/acid-properties-in-dbms/
